import{j as e,R as j,r as h}from"./index-BW_7qGo2.js";const v=({label:s,isActive:r,onClick:a})=>e.jsxs("button",{className:`monitor-nav__btn ${r?"monitor-nav__btn--active":""}`,onClick:a,children:[e.jsx("span",{className:"monitor-nav__btn-label",children:s}),e.jsx("span",{className:"monitor-nav__btn-chevron",children:"â€º"})]}),p=({views:s,activeView:r,onViewChange:a,menuLabel:o})=>e.jsxs("nav",{children:[e.jsx("div",{className:"monitor-nav__label",children:o}),e.jsx("div",{className:"monitor-nav__menu",children:Object.values(s).map(i=>e.jsx(v,{label:i.label,isActive:r===i.id,onClick:()=>a(i.id)},i.id))})]}),u=({config:s,views:r,activeView:a,onViewChange:o})=>e.jsxs("aside",{className:"monitor-sidebar",children:[e.jsxs("header",{className:"monitor-sidebar__header",children:[s.label&&e.jsx("div",{className:"monitor-sidebar__label",children:s.label}),e.jsx("h1",{className:"monitor-sidebar__title",children:s.title}),e.jsx("p",{className:"monitor-sidebar__subtitle",children:s.subtitle})]}),e.jsx(p,{views:r,activeView:a,onViewChange:o,menuLabel:s.menuLabel||"Select View"}),e.jsxs("footer",{className:"monitor-sidebar__footer",children:[e.jsx("b",{children:"Tip:"})," ",s.footerTip.replace("Tip: ","")]})]}),N=({text:s})=>e.jsxs("div",{className:"monitor-pill",children:[e.jsx("span",{className:"monitor-pill__dot"})," ",s]}),b=({src:s,alt:r,video:a,poster:o,basePath:i=""})=>{const l=t=>!t||t.startsWith("http")||t.startsWith("/")?t:`${i}/${t}`;return e.jsx("div",{className:"monitor-graphic-panel",children:e.jsx("div",{className:"monitor-graphic-panel__inner",children:a?e.jsx("video",{className:"monitor-graphic-panel__img",src:l(a),poster:l(o),autoPlay:!0,loop:!0,controls:!0,playsInline:!0}):e.jsx("img",{className:"monitor-graphic-panel__img",src:l(s),alt:r})})})},w=({title:s,description:r,emphasis:a,listItems:o,footer:i})=>e.jsxs("div",{className:"monitor-text-panel",children:[e.jsx("h2",{className:"monitor-text-panel__title",children:s}),e.jsxs("p",{className:"monitor-text-panel__description",children:[r,a&&e.jsxs("em",{children:[" ",a]})]}),e.jsx("ul",{className:"monitor-text-panel__list",children:o&&o.map((l,t)=>e.jsx("li",{className:"monitor-text-panel__list-item",children:l},t))}),i&&e.jsxs("div",{className:"monitor-text-panel__footer",children:[i.text,i.links&&i.links.map((l,t)=>e.jsxs(j.Fragment,{children:[t===0?" ":" and ",e.jsx("strong",{children:l}),t===i.links.length-1?".":""]},t))]})]}),y=({viewData:s,basePath:r=""})=>{const{badge:a,title:o,tag:i,pillText:l,image:t,video:c,panel:n,isHome:m}=s,d=c&&(!(n!=null&&n.description)||(n==null?void 0:n.description)==="")&&(!(n!=null&&n.listItems)||(n==null?void 0:n.listItems.length)===0||(n==null?void 0:n.listItems.every(x=>x.trim()==="")));return e.jsxs("section",{className:`monitor-view ${m?"monitor-view--home":""} ${d?"monitor-view--video-only":""}`,children:[e.jsxs("div",{className:"monitor-view__header",children:[e.jsxs("div",{children:[a&&e.jsx("div",{className:"monitor-view__badge",children:a}),e.jsxs("div",{className:"monitor-view__title",children:[e.jsx("span",{children:o}),e.jsx("span",{className:"monitor-view__title-tag",children:i})]})]}),e.jsx(N,{text:l})]}),e.jsxs("div",{className:"monitor-view__main",children:[e.jsx(b,{src:t==null?void 0:t.src,alt:t==null?void 0:t.alt,video:c==null?void 0:c.src,poster:c==null?void 0:c.poster,basePath:r}),!d&&e.jsx(w,{...n})]})]})},k=({viewData:s,basePath:r=""})=>e.jsx("main",{className:"monitor-content",children:e.jsxs("div",{className:"monitor-content__inner",children:[e.jsx("div",{className:"monitor-content__overlay"}),e.jsx(y,{viewData:s,basePath:r})]})}),I=({viewsConfig:s,siteConfig:r,theme:a="network",basePath:o=""})=>{const[i,l]=h.useState(r.defaultView),t=h.useRef(null),c=h.useCallback(n=>{var x;if(!((x=t.current)!=null&&x.contains(document.activeElement))&&document.activeElement!==t.current)return;const m=Object.keys(s),d=m.indexOf(i);if(n.key==="ArrowRight"||n.key==="ArrowDown"){n.preventDefault();const _=(d+1)%m.length;l(m[_])}else if(n.key==="ArrowLeft"||n.key==="ArrowUp"){n.preventDefault();const _=(d-1+m.length)%m.length;l(m[_])}},[i,s]);return h.useEffect(()=>(document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)),[c]),e.jsxs("div",{ref:t,className:`monitor-app monitor-theme-${a}`,tabIndex:0,role:"application","aria-label":`${r.sidebar.title} Interactive Monitor`,children:[e.jsx(u,{config:r.sidebar,views:s,activeView:i,onViewChange:l}),e.jsx(k,{viewData:s[i],basePath:o})]})};export{I as M};
